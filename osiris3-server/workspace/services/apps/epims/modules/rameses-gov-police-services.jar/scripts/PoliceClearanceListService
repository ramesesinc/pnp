import com.rameses.annotations.*;
import com.rameses.common.*;
import com.rameses.services.extended.*;

class PoliceClearanceService extends ActiveCrudListService{

	@ActiveDB(value='policeclearance', em='police')
	def em
	
	@ProxyMethod
	public def getNodes( params ) {
		return [
			[name:"pending", caption:"Pending", allowSearch:true],
			[name:"verification", caption:"For Verification", allowSearch:true],
			[name:"release", caption:"For Release", allowSearch:true],
			[name:"archive", caption:"Archive", allowSearch:true]
		];	
	}

	@ProxyMethod
	public def getColumns( params ) {
		return [
			[name:"docno", caption:"Doc No"],
			[name:"state", caption:"State"],
			[name:"dtissued", caption:"Date Issued"],
			[name:"lastname", caption:"Last Name"],
            [name:"firstname", caption:"First Name"],
            [name:"middlename", caption:"Middle Name"],
			[name:"address", caption:"Address"]
		]	
	}
	
	void beforeList( params ){
		if ( params == null ) params = [:]
		params.searchtext = ( params.searchtext ? params.searchtext :'' )+'%'
	}
}